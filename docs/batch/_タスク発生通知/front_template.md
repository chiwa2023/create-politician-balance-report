# タスク発生通知【バッチ】設計書

## 状態：仕様未確定(実装不可)

## 1.目的

一定期間サイクルでタスク計上がされた事の通知を指定者に対して行う

## 2. 実行間隔

1. TODO 仕様決定後修正する(現時点では深夜帯を除く30分を間隔を想定)

## 3. INPUT

タスク計上テーブルで、通知終了フラグが`未実行:fallse`かつ、次回通知予定時間がシステム時刻より前の時刻のデータに対して処理を行う

タスク計上テーブル

 |             論理名              |      物理名      |      型       |                                    説明(例)                                    |
 | ------------------------------- | ---------------- | ------------- | ------------------------------------------------------------------------------ |
 | タスクId                        | 物理名           | Long          | タスクを一意で識別するId                                                       |
 | タスク同一識別コード            | 物理名           | Long          | 変更にかかわらず、タスクを一意で同一と識別する同一識別コード                   |
 | タスク名称                      | 物理名           | String        | タスク名称                                                                     |
 | タスク作業場所リンク            | 物理名           | String        | タスク作業を行う画面への直接リンク                                             |
 | 最新区分                        | saishinKbn       | Integer       | タスクが最新かどうかを表す区分                                                 |
 | タスク終了フラグ                | isFinish         | Boolean       | タスクが終了かどうかを表すフラグ                                               |
 | 通知終了フラグ                  | isNoticeAlerm    | Boolean       | タスク発生通知が終了かどうかを表すフラグ                                       |
 | 代表者タスクフラグ              | isFor代表者      | Boolean       | タスクが代表者向けかどうかを表すフラグ                                         |
 | 会計責任者タスクフラグ          | isFor会計責任者  | Boolean       | タスクが最新かどうかを表す区分                                                 |
 | 事務担当者1タスクフラグ         | isFor事務担当者1 | Boolean       | タスクが最新かどうかを表す区分                                                 |
 | 事務担当者2タスクフラグ         | isFor事務担当者2 | Boolean       | タスクが最新かどうかを表す区分                                                 |
 | 事務担当者3タスクフラグ         | isFor事務担当者3 | Boolean       | タスクが最新かどうかを表す区分                                                 |
 | 代表者ユーザId                  | 物理名           | Long          | 代表者ユーザId                                                                 |
 | 代表者ユーザ同一識別コード      | 物理名           | Integer       | 代表者ユーザ同一識別コード                                                     |
 | 代表者ユーザ氏名                | 物理名           | Long          | 代表者ユーザ氏名                                                               |
 | 会計責任者ユーザId              | 物理名           | Long          | 会計責任者ユーザId                                                             |
 | 会計責任者ユーザ同一識別コード  | 物理名           | Integer       | 会計責任者ユーザ同一識別コード                                                 |
 | 会計責任者ユーザ氏名            | 物理名           | String        | 会計責任者ユーザ氏名                                                           |
 | 事務担当者1ユーザId             | 物理名           | Long          | 事務担当者1ユーザId                                                            |
 | 事務担当者1ユーザ同一識別コード | 物理名           | Integer       | 事務担当者1ユーザ同一識別コード                                                |
 | 事務担当者1ユーザ氏名           | 物理名           | Long          | 事務担当者1ユーザ氏名                                                          |
 | 事務担当者2ユーザId             | 物理名           | String        | 事務担当者2ユーザId                                                            |
 | 事務担当者2ユーザ同一識別コード | 物理名           | Integer       | 事務担当者2ユーザ同一識別コード                                                |
 | 事務担当者2ユーザ氏名           | 物理名           | Long          | 事務担当者2ユーザ氏名                                                          |
 | 事務担当者3ユーザId             | 物理名           | String        | 事務担当者3ユーザId                                                            |
 | 事務担当者3ユーザ同一識別コード | 物理名           | Integer       | 事務担当者3ユーザ同一識別コード                                                |
 | 事務担当者3ユーザ氏名           | 物理名           | String        | 事務担当者3ユーザ氏名                                                          |
 | 次回通知予定時間                | 物理名           | LocalDatetime | 次回通知予定時間                                                               |
 | 代表者通知送信時間同日1         | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 代表者通知完了時間同日1         | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 代表者通知送信時間同日2         | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 代表者通知完了時間同日2         | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 代表者通知送信時間同日3         | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 代表者通知完了時間同日3         | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 代表者通知送信時間翌日1         | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 代表者通知完了時間翌日1         | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 代表者通知送信時間翌日2         | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 代表者通知完了時間翌日2         | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 代表者通知送信時間翌々日1       | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 代表者通知完了時間翌々日1       | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 会計責任者通知送信時間同日1     | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 会計責任者通知完了時間同日1     | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 会計責任者通知送信時間同日2     | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 会計責任者通知完了時間同日2     | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 会計責任者通知送信時間同日3     | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 会計責任者通知完了時間同日3     | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 会計責任者通知送信時間翌日1     | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 会計責任者通知完了時間翌日1     | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 会計責任者通知送信時間翌日2     | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 会計責任者通知完了時間翌日2     | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 会計責任者通知送信時間翌々日1   | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 会計責任者通知完了時間翌々日1   | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者1通知送信時間同日1    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者1通知完了時間同日1    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者1通知送信時間同日2    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者1通知完了時間同日2    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者1通知送信時間同日3    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者1通知完了時間同日3    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者1通知送信時間翌日1    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者1通知完了時間翌日1    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者1通知送信時間翌日2    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者1通知完了時間翌日2    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者1通知送信時間翌々日1  | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者1通知完了時間翌々日1  | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者2通知送信時間同日1    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者2通知完了時間同日1    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者2通知送信時間同日2    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者2通知完了時間同日2    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者2通知送信時間同日3    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者2通知完了時間同日3    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者2通知送信時間翌日1    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者2通知完了時間翌日1    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者2通知送信時間翌日2    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者2通知完了時間翌日2    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者2通知送信時間翌々日1  | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者2通知完了時間翌々日1  | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者3通知送信時間同日1    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者3通知完了時間同日1    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者3通知送信時間同日2    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者3通知完了時間同日2    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者3通知送信時間同日3    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者3通知完了時間同日3    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者3通知送信時間翌日1    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者3通知完了時間翌日1    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者3通知送信時間翌日2    | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者3通知完了時間翌日2    | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
 | 事務担当者3通知送信時間翌々日1  | 物理名           | Timetamp      | 一回目の通知処理を行ったタイムスタンプ                                         |
 | 事務担当者3通知完了時間翌々日1  | 物理名           | Timetamp      | 一回目の通知処理を行った場合、例外なく通知終了が確認できた場合のタイムスタンプ |
